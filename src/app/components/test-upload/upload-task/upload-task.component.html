<div *ngIf="percentage | async as pct">
    <mat-progress-bar
        class="audio-progress-bar"
        mode="determinated"
        color="accent"
        [value]="pct"
        max="100"
    >
    </mat-progress-bar>
</div>

<div *ngIf="snapshot | async as snap">
    <div *ngIf="downloadURL as url">
        <h3>Results!</h3>
        <a [href]="url" target="_blank" rel="noopener">Download Me!</a>
    </div>
    <hr />

    <button
        (click)="task.pause()"
        class="button is-warning"
        [disabled]="!isActive(snap)"
    >
        Pause
    </button>
    <button
        (click)="task.cancel()"
        class="button is-danger"
        [disabled]="!isActive(snap)"
    >
        Cancel
    </button>
    <button
        (click)="task.resume()"
        class="button is-info"
        [disabled]="!(snap?.state === 'paused')"
    >
        Resume
    </button>
</div>
