<div class="container">
    <mat-card class="card card-content-detail ">
        <mat-card-header>
            <mat-card-title
                ><h1 class="content-page__title">
                    {{ title }}
                </h1></mat-card-title
            >
        </mat-card-header>
        <div class="content-page__content">
            <div *ngIf="type == 'image'">
                <img
                    mat-card-image
                    [src]="url"
                    alt="picture"
                    class="content-page__picture"
                />
                <p class="content-page__content-description">
                    {{ description }}
                </p>
            </div>

            <div *ngIf="type == 'audio'">
                <audio controls>
                    <source [src]="url" type="audio/mp3" />
                </audio>
                <p class="content-page__content-description">
                    {{ description }}
                </p>
            </div>

            <div *ngIf="type == 'video'">
                <div>
                    <iframe
                        class="responsive-video1"
                        [src]="url"
                        allowfullscreen
                    ></iframe>
                </div>
                <p class="content-page__content-description">
                    {{ description }}
                </p>
            </div>

            <div
                *ngIf="type == 'text'"
                [innerHTML]="description"
                class="content-page__text-content"
            ></div>
        </div>
        <mat-card-actions class="card__buttons">
            <button
                mat-icon-button
                color="accent"
                matTooltip="Like"
                matTooltipPosition="above"
            >
                <mat-icon>thumb_up_alt</mat-icon>
            </button>
            <button
                mat-icon-button
                color="base"
                matTooltip="Dislike"
                matTooltipPosition="above"
            >
                <mat-icon>thumb_down_alt</mat-icon>
            </button>
            <button
                mat-icon-button
                color="base"
                matTooltip="Comments"
                matTooltipPosition="above"
            >
                <mat-icon>comment</mat-icon>
            </button>
            <button
                mat-icon-button
                color="base"
                matTooltip="Share"
                matTooltipPosition="above"
            >
                <mat-icon>send</mat-icon>
            </button>
        </mat-card-actions>
    </mat-card>

    <section >
        <div id="idFromDB" #singleComment >
            <mat-card class="comment-container">
                <mat-card-header>
                    <img
                        mat-card-avatar
                        [src]="userProfile.avatar"
                        alt="User avatar"
                    />
                    <mat-card-title>{{ userProfile.name }}</mat-card-title
                    ><mat-card-subtitle>Author</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content class="comment-container_content-card">
                    <ng-container *ngIf="!isComment; else showCommentParagraph">
                        <mat-form-field
                            class="comment-container_content-card__size"
                            color="accent"
                        >
                            <textarea
                                #message
                                matInput
                                cdkTextareaAutosize
                                cdkAutosizeMaxRows="5"
                                maxlength="400"
                                placeholder="Your message"
                                [formControl]="commentFC"
                            ></textarea>
                            <mat-hint align="start"
                                ><strong>everybody can see this text</strong>
                            </mat-hint>
                            <mat-hint align="end"
                                >{{ message.value.length }} / 400</mat-hint
                            >
                        </mat-form-field>
                    </ng-container>
                    <ng-template #showCommentParagraph>
                        <p #comment></p>
                        <hr />
                    </ng-template>
                    <time class="right" datetime="date">{{ date }}</time>
                </mat-card-content>
                <mat-card-actions class="comment-card">
                    <button
                        mat-button
                        (click)="onSend()"
                        [disabled]="isComment || !commentFC.valid"
                    >
                        Send
                    </button>
                    <button
                        mat-button
                        matTooltip="Edit again..."
                        matTooltipPosition="above"
                        [disabled]="!isComment"
                        (click)="onCancel()"
                    >
                        Cancel
                    </button>
                    <button
                        *ngIf="isComment"
                        mat-icon-button
                        color="base"
                        matTooltip="Delete"
                        matTooltipPosition="above"
                        (click)="onDelete(singleComment)"
                    >
                        <mat-icon>delete</mat-icon>
                    </button>
                </mat-card-actions>
            </mat-card>
        </div>
    </section>
</div>
