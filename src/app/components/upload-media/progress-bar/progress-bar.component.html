<div class="progress__bar--container">
    <div class="progress__bar" *ngIf="percentage | async as pct">
        <mat-progress-bar
            mode="determinated"
            color="accent"
            [value]="pct"
            max="100"
        >
        </mat-progress-bar>

        <div *ngIf="snapshot | async as snap">
            <div *ngIf="urlOfUploadedFile as url">
                <button mat-raised-button color="accent">
                    <a
                        class="progress__bar--link"
                        [href]="url"
                        target="_blank"
                        rel="noopener"
                        >View your uploaded file</a
                    >
                </button>
            </div>

            <div class="buttons">
                <button
                    mat-button
                    (click)="task.pause()"
                    class="button is-warning"
                    [disabled]="!isActive(snap)"
                >
                    Pause
                </button>
                <button
                    mat-button
                    (click)="task.resume()"
                    class="button is-info"
                    [disabled]="!(snap?.state === 'paused')"
                >
                    Resume
                </button>
                <button
                    mat-raised-button
                    color="accent"
                    (click)="task.cancel()"
                    class="button is-danger"
                    [disabled]="!isActive(snap)"
                >
                    Cancel
                </button>
            </div>
        </div>
    </div>
</div>
